<!DOCTYPE html>
<html lang="en" id="html">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>T2A06: Spy</title>
        <link rel="stylesheet" type="text/css" href="/gamedev2022/style.css">
        <link id="styleMode" rel="stylesheet" type="text/css">
        <script type="text/javascript" src="/gamedev2022/stylePref.js"></script>
        <script type="text/javascript" src="md5.min.js"></script>
        <script>
            function encryptString(string) {
                var thing = ''
                for(var i=0; i<string.length; i++) {
                    thing += encryptBetter(string[i], i)
                }
                return thing
            }
            function decryptString(string) {
                var thing = ''
                for(var i=0; i<string.length; i++) {
                    thing += decryptBetter(string[i], i)
                }
                return thing
            }
            function encryptBetter(char, value) {
                if(char.match(/[A-Z]/) != null) {
                    var capital = true
                }
                if(capital) {
                    char = char.toLowerCase()
                }
                table = {
                    a:'b',
                    b:'c',
                    c:'d',
                    d:'e',
                    e:'f',
                    f:'g',
                    g:'h',
                    h:'i',
                    i:'j',
                    j:'k',
                    k:'l',
                    l:'m',
                    m:'n',
                    n:'o',
                    o:'p',
                    p:'q',
                    q:'r',
                    r:'s',
                    s:'t',
                    t:'u',
                    u:'v',
                    v:'w',
                    w:'x',
                    x:'y',
                    y:'z',
                    z:'a',
                    '1':'2',
                    '2':'3',
                    '3':'4',
                    '4':'5',
                    '5':'6',
                    '6':'7',
                    '7':'8',
                    '8':'9',
                    '9':'0',
                    '0':' ',
                    ' ':'1'
                }
                var newChar = table[char]
                if(newChar == null) {
                    return char
                }
                if(capital) {
                    newChar = newChar.toUpperCase()
                }
                if(value > 0) {
                    newChar = encryptBetter(newChar, value-1)
                }
                return newChar
            }
            function decryptBetter(char, value) {
                if(char.match(/[A-Z]/) != null) {
                    var capital = true
                }
                if(capital) {
                    char = char.toLowerCase()
                }
                table = {
                    a:'z',
                    b:'a',
                    c:'b',
                    d:'c',
                    e:'d',
                    f:'e',
                    g:'f',
                    h:'g',
                    i:'h',
                    j:'i',
                    k:'j',
                    l:'k',
                    m:'l',
                    n:'m',
                    o:'n',
                    p:'o',
                    q:'p',
                    r:'q',
                    s:'r',
                    t:'s',
                    u:'t',
                    v:'u',
                    w:'v',
                    x:'w',
                    y:'x',
                    z:'y',
                    '2':'1',
                    '3':'2',
                    '4':'3',
                    '5':'4',
                    '6':'5',
                    '7':'6',
                    '8':'7',
                    '9':'8',
                    '0':'9',
                    '1':' ',
                    ' ':'0'
                }
                var newChar = table[char]
                if(newChar == null) {
                    return char
                }
                if(capital) {
                    newChar = newChar.toUpperCase()
                }
                if(value > 0) {
                    newChar = decryptBetter(newChar, value-1)
                }
                return newChar
            }
            function encrypt(char) {
                if(char == ' ') {
                    return 'k'
                }
                if(char == char.toUpperCase()) {
                    var capital = true
                }
                if(capital) {
                    char = char.toLowerCase()
                }
                table = {
                    a:'b',
                    b:'c',
                    c:'d',
                    d:'e',
                    e:'f',
                    f:'g',
                    g:'h',
                    h:'i',
                    i:'j',
                    j:' ',
                    k:'l',
                    l:'m',
                    m:'n',
                    n:'o',
                    o:'p',
                    p:'q',
                    q:'r',
                    r:'s',
                    s:'t',
                    t:'u',
                    u:'v',
                    v:'w',
                    w:'x',
                    x:'y',
                    y:'z',
                    z:'a',
                    1:'2',
                    2:'3',
                    3:'4',
                    4:'5',
                    5:'6',
                    6:'7',
                    7:'8',
                    8:'9',
                    9:'0',
                    0:'1',
                }
                var newChar = table[char]
                if(newChar == null) {
                    return char
                }
                if(capital) {
                    newChar = newChar.toUpperCase()
                }
                return newChar
            }
            function decrypt(char) {
                if(char == ' ') {
                    return 'j'
                }
                if(char == char.toUpperCase()) {
                    var capital = true
                }
                if(capital) {
                    char = char.toLowerCase()
                }
                table = {
                    a:'z',
                    b:'a',
                    c:'a',
                    d:'c',
                    e:'d',
                    f:'e',
                    g:'f',
                    h:'g',
                    i:'h',
                    j:'i',
                    k:' ',
                    l:'k',
                    m:'l',
                    n:'m',
                    o:'n',
                    p:'o',
                    q:'p',
                    r:'q',
                    s:'r',
                    t:'s',
                    u:'t',
                    v:'u',
                    w:'v',
                    x:'w',
                    y:'x',
                    z:'y',
                    '1':'0',
                    '2':'1',
                    '3':'2',
                    '4':'3',
                    '5':'4',
                    '6':'5',
                    '7':'6',
                    '8':'7',
                    '9':'8',
                    '0':'9'
                }
                var newChar = table[char]
                if(newChar == null) {
                    return char
                }
                if(capital) {
                    newChar = newChar.toUpperCase()
                }
                return newChar
            }
        </script>
    </head>
    <body>
        <div id="back"><a href="/gamedev2022" class="link">‚Üê Back to index (Giorgio)</a></div>
        <h1>T2A06: Spy</h1>

        <h4>Works with numbers</h4>

        <textarea id="myArea01" rows=4 cols=70></textarea><br> 

        <input type=button value="Encrypt" onclick="
            var myTemp = ''
            myString = document.getElementById('myArea01').value.split('')
            for (var myLoop=0;myLoop<myString.length; myLoop++){
                myTemp = myString[myLoop]
                myTemp = encrypt(myTemp)
                myString[myLoop] = myTemp
            }
            document.getElementById('myArea02').value = myString.join('')
        ">
        <button onclick="
            document.getElementById('myArea02').value = encryptString(document.getElementById('myArea01').value)
        ">Encrypt Better</button>
        <button onclick="
            document.getElementById('myArea02').value = btoa(document.getElementById('myArea01').value)
        ">Base64 Encode</button>
        <button onclick="
            document.getElementById('myArea02').value = md5(document.getElementById('myArea01').value)
        ">MD5 Encryption</button><br><br>

        <textarea id="myArea02" rows=4 cols=70></textarea><br> 

        <input type=button value="Decrypt" onclick="
        var myTemp = ''
        myString = document.getElementById('myArea02').value.split('')
        for (var myLoop=0;myLoop<myString.length; myLoop++){
            myTemp = myString[myLoop]
            myTemp = decrypt(myTemp)
            myString[myLoop] = myTemp
        }
        document.getElementById('myArea03').value = myString.join('')
        ">
        <button onclick="
            document.getElementById('myArea03').value = decryptString(document.getElementById('myArea02').value)
        ">Decrypt Better</button>
        <button onclick="
            document.getElementById('myArea03').value = atob(document.getElementById('myArea02').value)
        ">Base64 Decode</button><br><br>

        <textarea id="myArea03" rows=4 cols=70></textarea><br> 
    </body>
</html>